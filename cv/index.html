<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CV â€” Manuel A. Martinez Garcia</title>
    <link rel="stylesheet" href="/assets/css/style.css" />
  </head>

  <body>
    <div id="page">
      <div id="theme-toggle-container">
        <span class="theme-label">Light</span>
        <input type="checkbox" id="theme-toggle" class="toggle-checkbox" />
        <label for="theme-toggle" class="toggle-label">
          <span class="toggle-inner"></span>
          <span class="toggle-switch"></span>
        </label>
        <span class="theme-label">Dark</span>
      </div>
      <aside id="sidebar">
        <nav id="nav">
          <a href="/" class="nav-link">Home</a>
          <a href="/projects/" class="nav-link">Projects</a>
          <a href="/cv/" class="nav-link active">CV</a>
        </nav>
      </aside>

      <main id="content">
        <div id="header">
          <h1>Curriculum Vitae</h1>
        </div>

        <div id="main-content">
          <p>
            You can view or download my latest CV here:
            <a href="/assets/cv/ManuelMartinezGarciaResume2025.pdf" target="_blank" rel="noopener"
              >Open CV (PDF)</a
            >
          </p>
          <!-- Optional: embed PDF preview -->
          <iframe
            style="width: 100%; height: 800px; border: 1px solid #ddd; border-radius: 8px"
            src="/assets/cv/ManuelMartinezGarciaResume2025.pdf"
            title="CV preview"
          ></iframe>
        </div>

        <div id="footer">
          <div id="footer-text">Hosted on GitHub Pages.</div>
        </div>
      </main>
    </div>

    <script>
      // Theme toggle
      const themeToggle = document.getElementById('theme-toggle');
      const htmlElement = document.documentElement;
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('theme');

      // Set initial theme
      if (savedTheme === 'dark' || (savedTheme === null && prefersDark)) {
        htmlElement.style.colorScheme = 'dark';
        document.body.classList.add('dark-mode');
        themeToggle.checked = true;
      }

      // Theme toggle click handler
      themeToggle.addEventListener('change', () => {
        const isDark = document.body.classList.toggle('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      });
    </script>
  </body>
</html>
